export const metadata = {
  title: "Examples",
  description: "Signed OG URL examples for cURL, TypeScript, and Python."
}

import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { CodeBlock } from "@/components/docs/CodeBlock";

# Examples

## Mint signed URL (cURL)

```bash
curl -X POST https://api.htmlpix.com/v1/image-url \
  -H "Authorization: Bearer $HTMLPIX_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "templateId": "k57k8w9n7n9r8b6r2x6f2q9v1h7p4y0c",
    "variables": {
      "title": "Quarterly Report",
      "subtitle": "Q1 2026"
    }
  }'
```

## Backend helper

<Tabs defaultValue="typescript" className="w-full">
  <TabsList className="grid w-full grid-cols-2">
    <TabsTrigger value="typescript">TypeScript</TabsTrigger>
    <TabsTrigger value="python">Python</TabsTrigger>
  </TabsList>
  <TabsContent value="typescript" className="mt-4">
    <CodeBlock
      language="typescript"
      filename="mint-og-url.ts"
      code={`export async function mintOgUrl(title: string, subtitle: string) {
  const res = await fetch("https://api.htmlpix.com/v1/image-url", {
    method: "POST",
    headers: {
      Authorization: \`Bearer \${process.env.HTMLPIX_API_KEY}\`,
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      templateId: process.env.HTMLPIX_TEMPLATE_ID,
      width: 1200,
      height: 630,
      format: "png",
      variables: { title, subtitle },
    }),
  });

  if (!res.ok) throw new Error(await res.text());
  return res.json() as Promise<{ url: string; expiresAt: number }>;
}`}
    />
  </TabsContent>
  <TabsContent value="python" className="mt-4">
    <CodeBlock
      language="python"
      filename="mint_og_url.py"
      code={`import os
import requests

def mint_og_url(title: str, subtitle: str):
    response = requests.post(
        "https://api.htmlpix.com/v1/image-url",
        headers={
            "Authorization": f"Bearer {os.environ['HTMLPIX_API_KEY']}",
            "Content-Type": "application/json",
        },
        json={
            "templateId": os.environ["HTMLPIX_TEMPLATE_ID"],
            "width": 1200,
            "height": 630,
            "format": "png",
            "variables": {"title": title, "subtitle": subtitle},
        },
    )
    response.raise_for_status()
    return response.json()  # {"url": ..., "expiresAt": ...}
`}
    />
  </TabsContent>
</Tabs>

## Use in Next.js metadata

```ts
export async function generateMetadata() {
  const { url } = await mintOgUrl("Launch Day", "New OG flow");

  return {
    openGraph: { images: [url] },
    twitter: { images: [url] },
  };
}
```
